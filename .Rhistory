summarise(gdp = sum(values)) %>% View()
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, str_sub(time, 1, 4), str_sub(as.character(time), 5, 8)) %>%
summarise(gdp = sum(values)) %>% View()
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, str_sub(time, 1, 4), str_sub(as.character(time), 5, 8)) %>%
summarise(gdp = sum(values)) %>% View()
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>% View()
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, str_sub(time, 1, 4), str_sub(as.character(time), 5, 8)) %>%
summarise(gdp = sum(values)) %>% View()
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>% View()
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values))
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste('"', date, "-01-01", sep = "" )))
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(date))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as_date(date))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as_Date(date))
library(lubridate)
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as_Date(date))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.date(date))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(date))
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = paste("'", date, "01-01'", sep = ""))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = paste(date, "-01-01", sep = ""))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.date(paste(date, "-01-01", sep = "")))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = "")))
ggplot() +
geom_area(aes(date, gdp))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_area(aes(date, gdp))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_grid(~geo)
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_wrap(~geo)
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices") %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_wrap(.~geo)
unique(dat$geo)
selected_geo <- c("Cyprus", "Italy",  "Bulgaria", "Euro area (19 countries)",
"Greece", "Spain")
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_wrap(.~geo)
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_wrap(geo)
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_grid(geo)
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_grid(~geo)
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = "")))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_grid(~as.character(geo))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = "")),
geo = as.character(geo))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_grid(~as.character(geo))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_grid(~geo))
# Per quarter
dat %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_grid(~geo)
# Per quarter
dat %>%
mutate(geo = as.character(geo)) %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_grid(~geo)
dat %>%
mutate(geo = as.character(geo)) %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = "")))
# Per quarter
dat %>%
mutate(geo = as.character(geo)) %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>% View()
# Per quarter
dat %>%
mutate(geo = as.character(geo)) %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_grid(~geo)
# Per quarter
dat %>%
mutate(geo = as.character(geo)) %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_grid(.~geo)
# Per quarter
dat %>%
mutate(geo = as.character(geo)) %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_wrap(~geo)
dat %>%
mutate(geo = as.character(geo)) %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = "")))
selected_geo <- c("Cyprus", "Italy",  "Bulgaria", "Euro area (19 countries)",
"Greece", "Spain")
# Per quarter
dat %>%
mutate(geo = as.character(geo)) %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) %>%
facet_wrap(~geo)
dat %>%
mutate(geo = as.character(geo)) %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp))
# Per quarter
dat %>%
mutate(geo = as.character(geo)) %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) +
facet_wrap(~geo)
# Per quarter
dat %>%
mutate(geo = as.character(geo)) %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, gdp)) +
facet_wrap(~geo, scales = "free" )
# Per quarter
dat %>%
mutate(geo = as.character(geo)) %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
filter(date < '2018-01-01') %>%
ggplot() +
geom_line(aes(date, gdp)) +
facet_wrap(~geo, scales = "free" )
selected_geo <- c( "Greece", "Spain", "Cyprus", "Italy", "Portugal", "Ireland",
"Euro area (19 countries)")
selected_geo <- c( "Greece", "Spain", "Cyprus", "Italy", "Portugal", "Ireland",
"Euro area (19 countries)")
# Per quarter
dat %>%
mutate(geo = as.character(geo)) %>%
filter(unit == "Current prices, million euro",
s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)",
na_item == "Gross domestic product at market prices",
geo %in% selected_geo) %>%
group_by(geo, date = str_sub(time, 1, 4)) %>%
summarise(gdp = sum(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
filter(date < '2018-01-01') %>%
ggplot() +
geom_line(aes(date, gdp)) +
facet_wrap(~geo, scales = "free" )
View(dat)
# For the original data, see
# http://ec.europa.eu/eurostat/tgm/table.do?tab=table&init=1&plugin=1&language=en&pcode=ts id <- search_eurostat("Modal split of passenger transport",
dat <- get_eurostat("ei_bsco_m", time_format = "num")
dat <- label_eurostat(dat)
View(dat)
dat %>%
filter(s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)") %>%
group_by(geo, indic, date = str_sub(time, 1, 4)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
summarise(Avg = mean(values))
dat %>%
filter(s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)") %>%
group_by(geo, indic, date = str_sub(time, 1, 4)) %>%
summarise(Avg = mean(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = "")))
dat %>%
filter(s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)") %>%
group_by(geo, indic, date = str_sub(time, 1, 4)) %>%
summarise(Avg = mean(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, Avg, color = indic)) +
facet_wrap(geo)
dat %>%
filter(s_adj == "Unadjusted data (i.e. neither seasonally adjusted nor calendar adjusted data)") %>%
group_by(geo, indic, date = str_sub(time, 1, 4)) %>%
summarise(Avg = mean(values)) %>%
mutate(date = as.Date(paste(date, "-01-01", sep = ""))) %>%
ggplot() +
geom_line(aes(date, Avg, color = indic)) +
facet_wrap(~geo)
